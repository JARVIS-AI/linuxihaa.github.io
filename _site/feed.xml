<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xml" href="/feed.xslt.xml"?>

<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="fa" dir="rtl">
  <generator uri="http://jekyllrb.com" version="3.2.1">Jekyll</generator>
  <link href="http://linuxihaa.ir/feed.xml" rel="self" type="application/atom+xml" />
  <link href="http://linuxihaa.ir/" rel="alternate" type="text/html" hreflang="fa" />
  <updated>2016-08-17T20:25:22+00:00</updated>
  <id>http://linuxihaa.ir/</id>

  
    <title>لینوکسی‌ها</title>
  

  
    <subtitle>سایت فارسی آموزش گنو/لینوکس و نرم‌افزارها و توزیع‌های لینوکس و اخبار مرتبط با آن‌ها هدف ما استفاده‌ی بهتر کاربران از توزیع‌های گنو/لینوکس است
</subtitle>
  

  

  
  
    <entry>
      <title>راه‌اندازی LVM در لینوکس</title>
      <link href="http://linuxihaa.ir/lvm/" rel="alternate" type="text/html" title="راه‌اندازی LVM در لینوکس" />
      <published>2016-08-12T00:00:00+00:00</published>
      
        <updated>2016-08-12T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/lvm</id>
      <content type="html" xml:base="http://linuxihaa.ir/lvm/">
        &lt;p&gt;LVM مخفف Logical Volume Manager روشی پیشرفته برای مدیریت پارتیشن‌ها و فضای دیسک سخت در لینوکس است که امکانات بسیار گسترده‌تری را نسبت به مدل پارتیشن‌بندی سنتی در اختیار مدیر سیستم می‌گذارد.&lt;/p&gt;

&lt;p&gt;در LVM می‌توانیم مجموعه‌ای از دیسک‌های سخت و یا پارتیشن‌ها را که Physical Volume نامیده می‌شوند به‌صورت یک یا چندین دیسک منطقی بزرگ‌تر و یکپارچه با نام Volume Group به وجود بیاوریم و سپس روی این دیسک ایجاد شده پارتیشن‌های خود که در اینجا Logical Volume نامیده می‌شود ایجاد کنیم.&lt;/p&gt;

&lt;p&gt;از جمله مزایای این روش این است زمانی که فضای یکی از پارتیشن‌ها رو به اتمام است به‌راحتی می‌توانیم به‌صورت آنلاین و داینامیک فضای بیشتری را به آن تخصیص بدهیم.&lt;/p&gt;

&lt;p&gt;متأسفانه LVM قابلیت تحمل خطاپذیری و بازیابی داده‌ها را همانند آنچه در RAID ها داریم، ندارد و در صورت خرابی یکی از دیسک‌ها داده‌هایمان از بین خواهد رفت.&lt;/p&gt;

&lt;p&gt;در این آموزش به نحوه نصب و پیکربندی LVM در لینوکس خواهیم پرداخت.&lt;/p&gt;

&lt;p&gt;ابتدا می‌بایست بسته lvm2 را روی سیستم نصب کنیم.&lt;/p&gt;

&lt;p&gt;برای سیستم‌های مبتنی بر دبیان:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install lvm2
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای سیستم‌های مبتنی بر ردهت:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo yum install lvm2
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس می‌بایست توسط دستور pvcreate پارتیشن یا دیسک‌های مورد نظرمان را به Physical Volume تبدیل کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pvcreate /dev/sda /dev/sdb
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;پس از اجرای دستور فوق می‌توانیم برای آگاهی از وضعیت Physical Volume ها از دستور زیر استفاده کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pvdisplay
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که خروجی آن برای مثال ما بصورت زیر خواهد بود.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &quot;/dev/sda&quot; is a new physical volume of &quot;8.00 GiB&quot;
  --- NEW Physical volume ---
  PV Name               /dev/sda
  VG Name               
  PV Size               8.00 GiB
  Allocatable           NO
  PE Size               0   
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               cAwfbX-Nik0-X1iR-lAzP-GJGD-5FNS-tX5fuY
   
  &quot;/dev/sdb&quot; is a new physical volume of &quot;8.00 GiB&quot;
  --- NEW Physical volume ---
  PV Name               /dev/sdb
  VG Name               
  PV Size               8.00 GiB
  Allocatable           NO
  PE Size               0   
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               VRDlaw-eeXm-p3XP-2w4t-fCZ8-92NP-2izZb3
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;همانطور که مشاهده می‌کنید دیسک‌های sda و sdb هر کدام با حجم 8 گیگ تعریف شده‌اند.&lt;/p&gt;

&lt;p&gt;حال می‌بایست برای Physical Volume های ایجاد شده یک Volume Group تعریف کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vgcreate vg_server /dev/sda /dev/sdb
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا یک Volume Group با نام vg_server ایجاد نمودیم و دو دیسک sda و sdb را به آن اضافه کردیم. برای بررسی وضعیت Volume Group ایجاد شده دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vgdisplay vg_server
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که خروجی آن بصورت زیر خواهد بود.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  --- Volume group ---
  VG Name               vg_server
  System ID             
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  1
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                0
  Open LV               0
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               15.99 GiB
  PE Size               4.00 MiB
  Total PE              4094
  Alloc PE / Size       0 / 0   
  Free  PE / Size       4094 / 15.99 GiB
  VG UUID               udnHV5-QwGw-PkA4-zsF3-5ABo-WhOA-XI51SZ
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;همان‌طور که مشاهده می‌کنید در بخش Free PE/ Size مجموع فضای دیسک‌ها اضافه شده را نمایش می دهد.&lt;/p&gt;

&lt;p&gt;برای اضافه نمودن دیسک‌های بیشتر به Volume Group می‌توانیم به صورت زیر عمل کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pvcreate /dev/sdd
vgextend vg_server /dev/sdd
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا ما یک Physical Volume به نام sdd را به Volume Group اضافه نمودیم.&lt;/p&gt;

&lt;p&gt;سپس می‌توانیم به‌صورت زیر Logical Volume های مورد نظرمان را روی Volume Group ایجاد شده تعریف کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;lvcreate -L 1G -n Vol01 vg_server
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا ما یک Logical Volume با حجم 1Gb  و نام Vol01 تعریف نمودیم.&lt;/p&gt;

&lt;p&gt;جهت مشاهده وضعیت Logical Volume ایجاد شده دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;lvdisplay vg_server
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که خروجی آن بصورت زیر خواهد بود.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  --- Logical volume ---
  LV Path                /dev/vg_server/Vol01
  LV Name                Vol01
  VG Name                vg_server
  LV UUID                dwdyI0-yy7l-jF9U-bPHB-QNpO-15RO-0uKlPH
  LV Write Access        read/write
  LV Creation host, time debian, 2016-08-11 11:48:48 -0400
  LV Status              available
  # open                 0
  LV Size                1.00 GiB
  Current LE             256
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     256
  Block device           253:0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس می‌توانیم Logical Volume ایجاد شده را با فرمت فایل سیستم مورد نظرمان به‌صورت زیر فرمت کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mkfs -t ext4 /dev/vg_server/vol01
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و در نهایت توسط دستور mount انرا ماونت کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mount /dev/vg_server/vol01 /mnt
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;در صورتی که بخواهیم اندازه Logical Volume مورد نظرمان را تغییر دهیم می‌توانیم به‌صورت زیر عمل کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;lvextend -L +800 /dev/vg_server/vol01
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و سپس توسط دستور زیر جهت اعمال تغییرات روی فایل سیستم Logical Volume وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;resize2fs /dev/vg_server/vol01
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;در مثال فوق 800Mb از فضای خالی Volume Group به Logical Volume اضافه نمودیم.&lt;/p&gt;

&lt;p&gt;برای حذف Logical Volume می‌توانیم به‌صورت زیر عمل کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;lvremove /dev/vg_server/vol01
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و برای حذف Volume Group دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vgremove vg_server
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="پیکربندی" />
      

      
        <summary>LVM مخفف Logical Volume Manager روشی پیشرفته برای مدیریت پارتیشن‌ها و فضای دیسک سخت در لینوکس است که امکانات بسیار گسترده‌تری را نسبت به مدل پارتیشن‌بندی سنتی در اختیار مدیر سیستم می‌گذارد.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/linux-lvm.jpg" />
      
    </entry>
  
  
  
    <entry>
      <title>راه اندازی RAID در لینوکس</title>
      <link href="http://linuxihaa.ir/raid/" rel="alternate" type="text/html" title="راه اندازی RAID در لینوکس" />
      <published>2016-08-11T00:00:00+00:00</published>
      
        <updated>2016-08-11T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/raid</id>
      <content type="html" xml:base="http://linuxihaa.ir/raid/">
        &lt;p&gt;RAID مخفف Redundant Array of Independent Disks مکانیزمی است که در آن مجموعه‌ای از دیسک‌ها به‌صورت زنجیره‌ای به هم متصل می‌شوند و موجب افزایش کارایی و دسترسی‌پذیری به داده‌ها و همچنین تحمل خطاپذیری و بازیابی داده‌های ذخیره شده می‌شود.&lt;/p&gt;

&lt;h2 id=&quot;raid&quot;&gt;انواع RAID&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Hardware RAID: که به‌صورت سخت‌افزاری و مستقل از سیستم‌عامل عمل می‌کند و تمامی عملیات توسط RAID Controller سیستم انجام می‌شود.&lt;/li&gt;
  &lt;li&gt;Software RAID: که توسط سیستم‌عامل و نرم‌افزار پیکربندی و کنترل می‌شود.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;riad&quot;&gt;سطوح RIAD&lt;/h2&gt;

&lt;p&gt;RAID می‌تواند به‌صورت‌های مختلفی پیاده‌سازی شود که در ادامه به معرفی کاربردی‌ترین آن‌ها می‌پردازیم.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;RAID 0 یا Striping: در این روش داده‌ها به‌صورت تکه‌تکه شده و هر تکه در یک دیسک ذخیره می‌شود که موجب افزایش سرعت خواندن/نوشتن می گردد. در این روش امکان تحمل خطاپذیری و بازیابی داده‌ها وجود ندارد و در صورت خرابی یکی از دیسک ها داده‌ها از بین خواهد رفت.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;RAID 1 یا Mirroring: در این روش داده‌های نوشته شده روی یک دیسک عیناً روی دیسک دیگر کپی می‌شود. در این روش سرعت خواندن/نوشتن افزایش نمی‌یابد ولی امکان تحمل خطاپذیری و بازیابی داده‌ها در زمانی خرابی یکی از دیسک‌ها وجود دارد.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;RAID 5 یا Striped with Parity: در این روش داده‌ها همانند روش Striping به‌صورت تکه‌تکه شده بین دیسک‌ها تقسیم و ذخیره می‌شود با این تفاوت که علاوه بر داده‌های ذخیره شده نوعی داده تحت عنوان Parity نیز در دیسک‌ها ذخیره می‌گردد. در این روش سرعت خواندن/نوشتن افزایش می‌یابد و همچنین بدلیل استفاده از Parity امکان تحمل خطاپذیری و بازیابی داده‌ها در زمان خرابی یکی از دیسک‌ها وجود دارد.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;RAID 6 یا Striped with Double Parity: این روش در‌واقع نسخه توسعه یافته RAID 5 می‌باشد با این‌ تفاوت که در این روش از دو بلوک مجزا Parity استفاده می‌شود که موجب می‌شود امکان تحمل خطاپذیری و بازیابی داده‌ها افزایش یابد.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;در این آموزش به نصب و راه‌اندازی RAID نرم‌افزاری در لینوکس خواهیم پرداخت.&lt;/p&gt;

&lt;h2 id=&quot;riad--&quot;&gt;نصب و راه‌اندازی RIAD در لینوکس&lt;/h2&gt;

&lt;p&gt;ابتدا می‌بایست نرم‌افزار mdadm را نصب کنیم.&lt;/p&gt;

&lt;p&gt;برای سیستم‌های مبتنی بر دبیان:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install mdadm
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای سیستم‌های مبتنی بر ردهت:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo yum install mdadm
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای ایجاد یک Raid Array به‌صورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;mode] &amp;lt;raiddevice&amp;gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;options] &amp;lt;component-devices&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;دستور mdadm شامل تعدادی گزینه است که در ادامه به توضییح مهمترین آن‌ها می‌پردازیم.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;mode:&lt;/strong&gt; حالت عملیاتی را مشخص می‌کند و می‌تواند یکی از گزینه های زیر باشد.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;C- یا create–: یک array جدید ایجاد می‌کند&lt;/li&gt;
  &lt;li&gt;A- یا assemble–: اجزای یک array از پیش ساخته را به هم ملحق می‌کند.&lt;/li&gt;
  &lt;li&gt;‌B- یا build–: یک array قدیمی بدون superblock ایجاد می‌کند.&lt;/li&gt;
  &lt;li&gt;F- یا follow , –monitor–: برای مانیتور کردن یک یا چند array استفاده می‌شود.&lt;/li&gt;
  &lt;li&gt;G- یا grow–: اندازه یک array فعال را تغییر می‌دهد&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;manage–: برای انجام کارهایی چون اضافه نمودن دیسک جدید و یا حدف نمودن دیسک های معیوب از array به‌کار می‌رود.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;raiddevice: محل و نام Array را مشخص می‌کند. برای مثال dev/md0/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;options:&lt;/strong&gt; می‌تواند گزینه‌های زیر را شامل شود.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;n- یا =raid-devices–: تعداد دیسک های فعال در array را مشخص می‌کند.&lt;/li&gt;
  &lt;li&gt;x- یا =spare-devices–: تعداد دیسک های یدک را مشخص می‌کند.&lt;/li&gt;
  &lt;li&gt;l- یا =level–: سطح RAID را مشخص می‌کند&lt;/li&gt;
  &lt;li&gt;s- یا scan–: فایل کانفیگ یا فایل proc/mdstat/ را برای یافتن اطلاعات مربوط جستجو می‌کند.&lt;/li&gt;
  &lt;li&gt;e- یا =metadata–: مدل metadata استفاده شده برای array را مشخص می‌کند. مقدار پیشفرض 1.2 می‌باشد&lt;/li&gt;
  &lt;li&gt;v- یا verbose—:‌ جهت نمایش اطلاعات بیشتر در رابطه با عملیات در حال انجام استفاده می‌شود.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;و …&lt;/p&gt;

&lt;p&gt;mdadm دارای گزینه‌های بسیاری است که می‌توانید جهت مطالعه آن‌ها به مستندات Man Pages این برنامه مراجعه کنید&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;man mdadm
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای ایجاد یک array از نوع raid 1 به‌صورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm –create /dev/md0 –level&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1 –raid-devices&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2 /dev/sda /dev/sdb –spare-devices&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1 /dev/sdc
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;در اینجا ما یک array از نوع raid 1 یا mirroring با دو دیسک به نام‌های sda و sdb ایجاد نمودیم؛ همچنین یک دیسک sdc را هم به‌عنوان دیسک یدک برای مواقعی که یکی از دیسک های فعال دچار مشکل شد به array اضافه نمودیم.&lt;/p&gt;

&lt;p&gt;برای مشاهده وضعیت array ایجاد شده دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm –detail /dev/md0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;پس از اجرای دستور فوق خروجی زیر را خواهیم داشت.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/dev/md0:
        Version : 1.2
  Creation Time : Wed Aug 10 11:36:54 2016
     Raid Level : raid1
     Array Size : 8380416 (7.99 GiB 8.58 GB)
  Used Dev Size : 8380416 (7.99 GiB 8.58 GB)
   Raid Devices : 2
  Total Devices : 3
    Persistence : Superblock is persistent

    Update Time : Wed Aug 10 11:55:45 2016
          State : clean 
 Active Devices : 2
Working Devices : 3
 Failed Devices : 0
  Spare Devices : 1

           Name : debian:0  (local to host debian)
           UUID : d26d12cf:b0037b53:cfb06317:a06a841b
         Events : 20

    Number   Major   Minor   RaidDevice State
       0       8       16        0      active sync   /dev/sda
       1       8       32        1      active sync   /dev/sdb

       2       8       48        -      spare   /dev/sdc
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;نکته: می‌توانیم به‌جای وارد نمودن شماره سطح از عنوان سطح مورد نظر برای گزینه level– استفاده کنیم.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;برای مثال دستور زیر یک array از نوع raid 0 یا stripe ایجاد می‌کند.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm –create /dev/md0 –level&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;stripe –raid-devices&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2 /dev/sda /dev/sdb
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای ذخیره تنظیمات به‌صورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm –detail –scan /etc/mdadm/mdadm.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;جهت مشاهده وضعیت array ایجاد شده دستور زیر را وارد 
می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cat /proc/mdstat
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در صورت فعال بودن و تعریف نمودن array خروجی زیر را خواهیم داشت.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Personalities : [raid6] [raid5] [raid4] [raid1] 
md0 : active raid1 sdc[2](S) sdb[1] sda[0]
      8380416 blocks super 1.2 [2/2] [UU]
      
unused devices: &amp;lt;none&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس می‌توانیم array ایجاد شده را با فرمت فایل سیستم مورد نظرمان توسط دستور mkfs به‌صورت زیر فرمت کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mkfs -t ext4 /dev/md0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و در نهایت array ایجاد شده را ماونت می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mount /dev/md0 /mnt
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;در صورتی که بخواهیم array مورد نظر را غیرفعال کنیم دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm –stop /dev/md0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا md0 غیرفعال گردید و برای فعال نمودن مجدد array به صورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm –assemble –scan
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای حدف یک دیسک از array بصورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;p&gt;ابتدا توسط دستور زیر دیسک را به حالت fail تغییر وضعیت می‌دهیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm /dev/md0 –fail /dev/sdc
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس دستور زیر را برای حذف دیسک از array وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm /dev/md0 –remove /dev/sdc
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و برای اضافه نمودن مجدد یک دیسک به array دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mdadm /dev/md0 –add /dev/sdc
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="پیکربندی" />
      

      
        <summary>RAID مخفف Redundant Array of Independent Disks مکانیزمی است که در آن مجموعه‌ای از دیسک‌ها به‌صورت زنجیره‌ای به هم متصل می‌شوند و موجب افزایش کارایی و دسترسی‌پذیری به داده‌ها و همچنین تحمل خطاپذیری و بازیابی داده‌های ذخیره شده می‌شود.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/linux-raid.jpeg" />
      
    </entry>
  
  
  
    <entry>
      <title>مدیریت سرویس‌ها توسط systemctl</title>
      <link href="http://linuxihaa.ir/systemctl/" rel="alternate" type="text/html" title="مدیریت سرویس‌ها توسط systemctl" />
      <published>2016-08-08T00:00:00+00:00</published>
      
        <updated>2016-08-08T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/systemctl</id>
      <content type="html" xml:base="http://linuxihaa.ir/systemctl/">
        &lt;p&gt;در این مطلب قصد داریم دستورات systemctl را آموزش بدهیم که ابزار اصلی برای کنترل سرویس‌ها و init است. در ادامه نگاهی می‌اندازیم که چگونه سرویس‌ها را مدیریت کنیم و در نهایت وضعیتشان را بررسی کنیم.&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;شروع و متوقف کردن سرویس‌ها&lt;/h2&gt;

&lt;p&gt;برای شروع کردن یک سرویس systemd باید از دستور &lt;code class=&quot;highlighter-rouge&quot;&gt;start&lt;/code&gt; 
استفاده کنیم.&lt;/p&gt;

&lt;p&gt;اگر شما یک کاربر غیر ریشه هستید لطفا روت شوید و یا قبل از دستور &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo&lt;/code&gt; بگذارید تا دستور با دسترسی ریشه اجرا شود در غیر این صورت ممکن که دستور شما عمل نکند.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl start APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;توسط این دستور شما می‌توانید سرویس خود را شروع کنید.&lt;/p&gt;

&lt;p&gt;برای مثال توسط این دستور میتوانید وب سرور nginx را فعال نمایید (لازم به ذکر است که اگر شما نام سرویسی را که می‌خواهید استفاده کنید را نمی‌دانید، می‌توانید با نوشتن فقط یکی دو حرف اول آن سرویس و سپس زدن دو بار پشت سر هم کلید &lt;code class=&quot;highlighter-rouge&quot;&gt;TAB&lt;/code&gt; نام آن را کامل کنید.).&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl start nginx.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;systemd برای کنترل کردن یک سرویس، به دنبال &lt;code class=&quot;highlighter-rouge&quot;&gt;*.service&lt;/code&gt; (همانطور که می‌دانید ستاره یک &lt;code class=&quot;highlighter-rouge&quot;&gt;wild card&lt;/code&gt; و به معنی هر چیزی است) می‌گردد، بنابر این شما می‌توانید برای راحتی کار به این صورت سرویس‌های خود را مدیریت کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl start nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;درصورتی که می‌خواهید سرویسی را که شروع کرده‌اید، متوقف 
کنید می‌توانید به همین شیوه عمل کنید با این تفاوت که به جای &lt;code class=&quot;highlighter-rouge&quot;&gt;start&lt;/code&gt; از &lt;code class=&quot;highlighter-rouge&quot;&gt;stop&lt;/code&gt; استفاده کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl stop APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-1&quot;&gt;بارگذاری و راه اندازی مجدد سرویس‌ها&lt;/h2&gt;

&lt;p&gt;در صورتی که سرویسی را شروع کردید و اکنون می‌خواهید آن را دوباره راه‌اندازی کنید باید از &lt;code class=&quot;highlighter-rouge&quot;&gt;restart&lt;/code&gt; استفاده کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl restart APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و یا اگر می‌خواهید فقط آن را به صورت مجدد بارگذاری نمایید میتوانید از &lt;code class=&quot;highlighter-rouge&quot;&gt;reload&lt;/code&gt; استفاده کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl reload APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;​نکته:&lt;/strong&gt; تفاوت &lt;code class=&quot;highlighter-rouge&quot;&gt;reload&lt;/code&gt; و &lt;code class=&quot;highlighter-rouge&quot;&gt;restart&lt;/code&gt; در این است که &lt;code class=&quot;highlighter-rouge&quot;&gt;reload&lt;/code&gt; فقط فایل کانفیگ ویرایش شده را می‌خواند (و سرویس را مجدد راه‌اندازی نمی‌کند) که عموما بسیار سریع انجام می‌شود. اما اگر می‌خواهید به‌طور کلی یک سرویس را دوباره راه‌اندازی کنید باید از &lt;code class=&quot;highlighter-rouge&quot;&gt;restart&lt;/code&gt; استفاده کنید که عموما زمان بیشتری نسبت به بارگذاری طول می‌کشد. اگر مطمئن نیستید که می‌خواهید از کدام استفاده کنید بهتر است که از &lt;code class=&quot;highlighter-rouge&quot;&gt;reload-or-restart&lt;/code&gt; استفاده کنید که ابتدا فایل کانفیگ ویرایش شده را مجدد بارگذاری می‌کند و در صورت نیاز سرویس مربوطه را مجدد راه اندازی می‌کند.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl reload-or-restart APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-2&quot;&gt;فعال و غیر فعال کردن سرویس‌ها&lt;/h2&gt;

&lt;p&gt;در صورتی که سرویس مورد نظر خود را توسط &lt;code class=&quot;highlighter-rouge&quot;&gt;start&lt;/code&gt; شروع کرده باشید، با اولین ریبوت همه آنها به تنظیمات خود بازمی‌گردد و ممکن است اصلا بعد از بارگذاری سیستم اجرا نشوند. در صورتی که می‌خواهید systemd سرویس مورد نظر شما را هنگام بوت به صورت خودکار فعال کند باید از enable استفاده کنید. به این صورت.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl &lt;span class=&quot;nb&quot;&gt;enable &lt;/span&gt;APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;این کار یک لینک از &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/systemd/system&lt;/code&gt; (و در بعضی سیستم ها &lt;code class=&quot;highlighter-rouge&quot;&gt;/lib/systemd/system&lt;/code&gt;) ایجاد می‌کند در مسیری که systemd در آن به دنیال فایل هایی می‌گردد که باید هنگام بوت آنها را شروع کند. (معمولا در &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/systemd/system/some-target.target.wants​_&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;اگر می‌خواهید عکس این کار را انجام دهید، یعنی وقتی سیستم بوت شد آن سرویس به طور پیشفرض اجرا نشود باید از &lt;code class=&quot;highlighter-rouge&quot;&gt;disable&lt;/code&gt; استفاده کنید، به این صورت.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl disable APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای مثال درصورتی که می‌خواهید جلوی اجرا شدن خودکار وب سرور nginx را هنگام بوت بگیرید باید به این صورت عمل کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl disable nginx.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-3&quot;&gt;وضعیت یک سرویس&lt;/h2&gt;

&lt;p&gt;در صورتی که می‌خواهید وضعیت یک سرویس را بررسی کنید (برای مثال مطمئن شوید که سرویس شروع و یا متوقف شده است و یا چند خط اول لاگ را بررسی کنید) میتوانید از &lt;code class=&quot;highlighter-rouge&quot;&gt;status&lt;/code&gt; استفاده نمایید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl status APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای مثال، در صورتی که وضعیت وب سرور nginx را بررسید کنید با خطوطی شبیه به این مواجه می‌شوید:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nginx.service - A high performance web server and a reverse proxy server
Loaded: loaded (/usr/lib/systemd/system/nginx.service; enabled; vendor preset: disabled)
Active: active (running) since Tue 2015-01-27 19:41:23 EST; 22h ago Main PID: 495 (nginx)
CGroup: /system.slice/nginx.service
├─495 nginx: master process /usr/bin/nginx -g pid /run/nginx.pid; error_log stderr;
└─496 nginx: worker processJan 27 19:41:23 desktop systemd[1]: Starting A high performance web server and a reverse proxy server...Jan 27 19:41:23 desktop systemd[1]: Started A high performance web server and a reverse proxy server.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;اگر می‌خواهید مطمئن شوید سرویسی که می‌خواهید شروع یا متوقف شده است (برای مثال در اسکریپت نویسی) می‌توانید از &lt;code class=&quot;highlighter-rouge&quot;&gt;is-active&lt;/code&gt; استفاده کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl is-active APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;خروجی این دستور در صورتی که سرویس مورد نظر شما شروع شده باشد &lt;code class=&quot;highlighter-rouge&quot;&gt;active&lt;/code&gt; خواهد بود و در غیر این صورت &lt;code class=&quot;highlighter-rouge&quot;&gt;inactive&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;و به همین ترتیب، اگر می‌خواهید مطمئن شوید که سرویس شما فعال است یا غیر فعال (الان شما دیگه می‌دونید که فرق غیر فعال با متوقف چیه :) ) می‌توانید از &lt;code class=&quot;highlighter-rouge&quot;&gt;is-enabled&lt;/code&gt; استفاده کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl is-enabled APPLICATION.service
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;خروجی این دستور هم در صورت فعال بودن &lt;code class=&quot;highlighter-rouge&quot;&gt;enable&lt;/code&gt; و در صورت غیر فعال بودن &lt;code class=&quot;highlighter-rouge&quot;&gt;disable&lt;/code&gt; خواهد بود.&lt;/p&gt;

&lt;p&gt;منبع با اندکی تغییر:
&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units&quot;&gt;How To Use Systemctl to Manage Systemd Services and Units&lt;/a&gt;&lt;/p&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:farbodahmadian2014@gmail.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>فربد احمدیان</name>
          
            <email>farbodahmadian2014@gmail.com</email>
          
          
            <uri>http://hotspotchi.ir/?page_id=824</uri>
          
        </author>
      

      
        <category term="پیکربندی" />
      

      
        <summary>در این مطلب قصد داریم دستورات systemctl را آموزش بدهیم که ابزار اصلی برای کنترل سرویس‌ها و init است. در ادامه نگاهی می‌اندازیم که چگونه سرویس‌ها را مدیریت کنیم و در نهایت وضعیتشان را بررسی کنیم.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/systemctl.jpg" />
      
    </entry>
  
  
  
    <entry>
      <title>راه اندازی DNS Server لینوکس</title>
      <link href="http://linuxihaa.ir/%D8%B1%D8%A7%D9%87-%D8%A7%D9%86%D8%AF%D8%A7%D8%B2%DB%8C-dns-server-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3/" rel="alternate" type="text/html" title="راه اندازی DNS Server لینوکس" />
      <published>2016-08-04T00:00:00+00:00</published>
      
        <updated>2016-08-04T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/راه-اندازی-dns-server-لینوکس</id>
      <content type="html" xml:base="http://linuxihaa.ir/%D8%B1%D8%A7%D9%87-%D8%A7%D9%86%D8%AF%D8%A7%D8%B2%DB%8C-dns-server-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3/">
        &lt;p&gt;همان‌طور که می‌دانید زمانی که می‌خواهید وارد وبسایتی شوید برای مراجعه می‌بایست آدرس سرویس‌دهنده آن وب سایت را بدانید که با آدرس آی‌پی (IP Address) مشخص می‌شود. از آنجایی که به‌خاطر سپردن آدرس‌های IP برای تمامی وب‌سایت‌ها کاری دشوار و تقریباً غیر ممکن است می‌توانیم به‌جای وارد نمودن آدرس IP از سرویس نام دامنه یا همان DNS استفاده کنیم. توسط این سرویس نام‌های دامنه به آدرس‌های آی‌پی ترجمه می‌شوند.&lt;/p&gt;

&lt;p&gt;در این آموزش به نحوه نصب و راه اندازی سرویس دهنده معروف &lt;code class=&quot;highlighter-rouge&quot;&gt;bind&lt;/code&gt; در لینوکس خواهیم پرداخت.&lt;/p&gt;

&lt;p&gt;ابتدا توسط دستور زیر سرویس دهنده bind را نصب می‌کنیم.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;برای سیستم‌های مبتنی بر دبیان:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install bind9  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;برای سیستم‌های مبتنی بر ردهت:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo yum install &lt;span class=&quot;nb&quot;&gt;bind&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس برای تعریف یک &lt;code class=&quot;highlighter-rouge&quot;&gt;zone&lt;/code&gt;، می‌بایست فایل زیر را ویرایش کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo nano /etc/bind/named.conf.local  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و خطوط زیر را به آن اضافه می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;zone “linuxihaa.ir” {  
    type master;  
    file “/etc/bind/db.linuxihaa.ir”;  
};  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا نام دامنه ما &lt;code class=&quot;highlighter-rouge&quot;&gt;linuxihaa.ir&lt;/code&gt; و از نوع &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; است.&lt;/p&gt;

&lt;p&gt;سپس می‌بایست یک zone فایل برای دامنه مورد نظرمان ایجاد کنیم. برای این کار به‌صورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /etc/bind  
cp db.empty db.linuxihaa.ir  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و فایل ایجاد شده را توسط یک ویرایشگر متنی ویرایش می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo nano /etc/bind/db.linuxiha.ir  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در ابتدا محتویات فایل فوق بصورت زیر خواهد بود.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$TTL 86400

@ IN SOA localhost. root.localhost. (  
    1 ; Serial  
    604800 ; Refresh  
    86400 ; Retry  
    2419200 ; Expire  
    86400 ) ; Negative Cache TTL  
;  
@ IN NS localhost.  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که می‌بایست به‌جای &lt;code class=&quot;highlighter-rouge&quot;&gt;localhost&lt;/code&gt; نام دامنه مورد نظرمان را اضافه کنیم.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$TTL 86400

@ IN SOA linuxihaa.ir. admin.linuxihaa.ir. (  
    1 ; Serial  
    604800 ; Refresh  
    86400 ; Retry  
    2419200 ; Expire  
    86400 ) ; Negative Cache TTL  
;

@ IN NS linuxihaa.ir.  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا &lt;code class=&quot;highlighter-rouge&quot;&gt;linuxihaa.ir.&lt;/code&gt; نام دامنه مورد نظر ما و &lt;code class=&quot;highlighter-rouge&quot;&gt;admin.linuxihaa.ir.&lt;/code&gt; آدرس ایمیل مدیر سیستم است.&lt;/p&gt;

&lt;p&gt;پس از اعمال تغییرات فوق می‌بایست رکوردهای مربوط به هاست‌های مورد نظرمان را به انتهای فایل، به‌صورت زیر اضافه کنیم.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ns IN A 104.28.12.99

linuxihaa.ir. A 104.28.12.99  
www CNAME linuxihaa.ir.  
host1 A 104.28.12.199  
host2 A 104.28.12.200  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در مثال فوق در خط چهارم آدرس یک وب سرور را مشخص نمودیم که در‌واقع یک نام مستعار به آدرس &lt;code class=&quot;highlighter-rouge&quot;&gt;linuxihaa.ir&lt;/code&gt; است.&lt;/p&gt;

&lt;p&gt;همچنین در خطوط پنجم و ششم دو هاست به آدرس‌های &lt;code class=&quot;highlighter-rouge&quot;&gt;host1.linuxihaa.ir&lt;/code&gt; و &lt;code class=&quot;highlighter-rouge&quot;&gt;host2.linuxihaa.ir&lt;/code&gt; تعریف نمودیم.&lt;/p&gt;

&lt;p&gt;پس از ویرایش و ذخیره فایل فوق می‌بایست صحت اطلاعات وارد شده را توسط ابزار &lt;code class=&quot;highlighter-rouge&quot;&gt;named-checkzone&lt;/code&gt; به‌صورت زیر بررسی کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;named-checkzone linuxihaa.ir /etc/bind/db.linuxihaa.ir  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;پس از اجرای دستور فوق و در صورت نداشتن مشکل برنامه خروجی زیر را نمایش خواهد داد.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;zone linuxihaa.ir/IN: loaded serial 1  
OK  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس جهت راه اندازی مجدد bind دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo systemctl restart bind9  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;جهت تست سرویس دهنده می‌توانیم از دستور &lt;code class=&quot;highlighter-rouge&quot;&gt;dig&lt;/code&gt; به‌صورت زیر استفاده کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dig @104.28.12.99 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;www.linuxihaa.ir]&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;http://www.linuxihaa.ir/&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;  نکته: برای استفاده از دستور dig می بایست بسته &lt;code class=&quot;highlighter-rouge&quot;&gt;dnsutils&lt;/code&gt; را نصب کنید.&lt;/li&gt;
&lt;/ul&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="شبکه" />
      
        <category term="سرور" />
      

      
        <summary>همان‌طور که می‌دانید زمانی که می‌خواهید وارد وبسایتی شوید برای مراجعه می‌بایست آدرس سرویس‌دهنده آن وب سایت را بدانید که با آدرس آی‌پی (IP Address) مشخص می‌شود. از آنجایی که به‌خاطر سپردن آدرس‌های IP برای تمامی وب‌سایت‌ها کاری دشوار و تقریباً غیر ممکن است می‌توانیم به‌جای وارد نمودن آدرس IP از سرویس نام دامنه یا همان DNS استفاده کنیم. توسط این سرویس نام‌های دامنه به آدرس‌های آی‌پی ترجمه می‌شوند.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/dns-server-linux.jpg" />
      
    </entry>
  
  
  
    <entry>
      <title>گذاشتن رمز روی grub2</title>
      <link href="http://linuxihaa.ir/%DA%AF%D8%B0%D8%A7%D8%B4%D8%AA%D9%86-%D8%B1%D9%85%D8%B2-%D8%B1%D9%88%DB%8C-grub2/" rel="alternate" type="text/html" title="گذاشتن رمز روی grub2" />
      <published>2016-07-31T00:00:00+00:00</published>
      
        <updated>2016-07-31T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/گذاشتن-رمز-روی-grub2</id>
      <content type="html" xml:base="http://linuxihaa.ir/%DA%AF%D8%B0%D8%A7%D8%B4%D8%AA%D9%86-%D8%B1%D9%85%D8%B2-%D8%B1%D9%88%DB%8C-grub2/">
        &lt;p&gt;در مطلب «&lt;a href=&quot;http://linuxihaa.ir/%D8%A8%D8%A7%D8%B2%DB%8C%D8%A7%D8%A8%DB%8C-%D8%B1%D9%85%D8%B2-%D8%B1%D9%88%D8%AA-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3/&quot;&gt;بازیابی رمز روت لینوکس&lt;/a&gt;» نحوه بازیابی کلمه عبور کاربر ریشه را از طریق تغییر دادن پارامترهای بوت کرنل در گراب توضیح دادیم. برای امنیت بیشتر می‌توانیم آیتم‌های grub2 را توسط رمز عبور محافظت کنیم. در این آموزش به نحوه رمزگذاری دسترسی برای گزینه‌های grub2 خواهیم پرداخت.&lt;/p&gt;

&lt;p&gt;ابتدا توسط یک ویرایشگر متنی فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;etc/grub.d/40_custom/&lt;/code&gt; را ویرایش می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo gedit /etc/grub.d/40_custom  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس خطوط زیر را به انتهای آن اضافه می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;set superusers=”USER”  
password USER PASSWORD  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا منظور از &lt;code class=&quot;highlighter-rouge&quot;&gt;USER‍‍‍‍&lt;/code&gt; نام کاربری و &lt;code class=&quot;highlighter-rouge&quot;&gt;PASSWORD&lt;/code&gt; رمز عبور انتخابی شما است. از آنجایی که در روش فوق رمز عبور کاربر بصورت Clear Text ذخیره می‌شود برای امنیت بیشتر می‌توانیم رمز عبور را رمزگذاری کنیم.&lt;/p&gt;

&lt;p&gt;برای این کار به‌صورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;p&gt;ابتدا می‌بایست توسط دستور زیر یک کلمه عبور رمزگذاری شده ایجاد کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;grub-mkpasswd-pbkdf2  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;پس از اجرای دستور فوق از شما رمز عبور مورد نظرتان برای رمزگذاری پرسیده می‌شود و درنهایت نسخه رمزگذاری شده کلمه عبور شما را نمایش می‌دهد.&lt;/p&gt;

&lt;p&gt;سپس مجدداً فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;etc/grub.d/40_custom/&lt;/code&gt; را ویرایش نموده و این بار به‌جای کلمه عبور Clear Text کلمه عبور رمزگذاری شده را به‌صورت زیر وارد نمایید.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;password USER grub.pbkdf2 ENCRYPTED PASSWORD  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا منظور از &lt;code class=&quot;highlighter-rouge&quot;&gt;ENCRYPTED PASSWORD&lt;/code&gt; کلمه عبور رمزگذاری تولید شده است.&lt;/p&gt;

&lt;p&gt;سپس فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;etc/grub.d/10_linux/&lt;/code&gt; را با یک ویرایشگر متنی ویرایش می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo gedit /etc/grub.d/10_linux  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و عبارت &lt;code class=&quot;highlighter-rouge&quot;&gt;unrestricted--&lt;/code&gt; را انتهای خط زیر اضافه می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CLASS=&quot;--class gnu-linux --class gnu --class os --unrestricted&quot;  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس برای اعمال تغییرات دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;update-grub  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="حریم‌شخصی" />
      
        <category term="پیکربندی" />
      

      
        <summary>در مطلب «بازیابی رمز روت لینوکس» نحوه بازیابی کلمه عبور کاربر ریشه را از طریق تغییر دادن پارامترهای بوت کرنل در گراب توضیح دادیم. برای امنیت بیشتر می‌توانیم آیتم‌های grub2 را توسط رمز عبور محافظت کنیم. در این آموزش به نحوه رمزگذاری دسترسی برای گزینه‌های grub2 خواهیم پرداخت.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/grub2-password.jpg" />
      
    </entry>
  
  
  
    <entry>
      <title>راه اندازی سرویس Samba در لینوکس</title>
      <link href="http://linuxihaa.ir/samba/" rel="alternate" type="text/html" title="راه اندازی سرویس Samba در لینوکس" />
      <published>2016-07-28T00:00:00+00:00</published>
      
        <updated>2016-07-28T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/samba</id>
      <content type="html" xml:base="http://linuxihaa.ir/samba/">
        &lt;p&gt;Samba یک ابزار بسیار قدرتمند است که به وسیله آن می‌توان سرویس‌های اشتراک فایل و پرینتر را برای کلاینت‌های مایکروسافتی ارائه نمود. علاوه بر این می‌توان از آن به عنوان یک دامین کنترلر در شبکه‌های مبتنی بر Windows Server Domain استفاده نمود. همچنین از نسخه چهارم این نرم‌افزار به بعد امکان پشتیبانی از Active Directory و دامین‌های Windows NT فراهم شده است.&lt;/p&gt;

&lt;p&gt;در این آموزش به نحوه نصب و راه اندازی این سرویس و همچنین اشتراک گذاری منابع توسط سرویس Samba برای کلاینت‌های مایکروسافتی و لینوکسی خواهیم پرداخت.&lt;/p&gt;

&lt;p&gt;برای نصب سرویس دهنده Samba دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install samba  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس برای اعمال تنظیمات می‌بایست فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;etc/samba/smb.conf/&lt;/code&gt; را با یک ویرایش‌گر متنی ویرایش کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo gedit /etc/samba/smb.conf  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;فایل smb.conf دارای بخش‌های مختلفی است که در ادامه به توضییح آن‌ها می‌پردازیم.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[global]&lt;/code&gt;: در این بخش پیکربندی کلی و مورد استفاده در تمامی بخش‌ها تعریف می گردد.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[share]&lt;/code&gt;: یک اشتراک را تعریف می‌کند.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[printers]&lt;/code&gt;: در این بخش پرینترهای اشتراک گذاشته تعریف می‌شوند.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[homes]&lt;/code&gt;: دایرکتوری home کاربران اشتراک گذاشته تعریف می‌شوند.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;در داخل هرکدام از این بخش‌ها پارامترهایی وجود دارد که هر پارامتر می‌تواند مقداری مانند true, false, yes, no و یا یک رشته یا مسیر داشته باشد.&lt;/p&gt;

&lt;p&gt;در ادامه به توضیح برخی از این پارامتر ها می پردازیم.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;browseable: تعیین می‌کند که اشتراک مورد نظرمان می‌تواند Browse شود و یا خیر.&lt;/li&gt;
  &lt;li&gt;comment: متن توضیح که در کنار اشتراک یا سرویس نمایش داده می‌شود.&lt;/li&gt;
  &lt;li&gt;create mask: برای تبدیل مجوزهای ویندوز به یونیکس/لینوکس در هنگام ایجاد فایل به‌کار می‌رود. مقدار پیشفرض برابر 0744 است.&lt;/li&gt;
  &lt;li&gt;directory mask: برای تبدیل مجوزهای ویندوز به یونیکس/لینوکس در هنگام ایجاد دایرکتوری به‌کار می‌رود. مقدار پیش‌فرض برابر 755 است.&lt;/li&gt;
  &lt;li&gt;encrypt passwords: تعیین می‌کند که در هنگام Authentication بین سرویس دهنده و سرویس گیرنده کلمات عبور رمزنگاری شوند یا خیر.&lt;/li&gt;
  &lt;li&gt;security: این گزینه مشخص می‌کند که کاربران چگونه به سرویس دهنده متصل شده و احراز هویت شوند. مقدار پیش‌فرض برابر user است.&lt;/li&gt;
  &lt;li&gt;read only: امکان ویرایش فایل‌ها توسط کاربران را مشخص می‌کند.&lt;/li&gt;
  &lt;li&gt;invalid users: این کاربران تعریف شده قادر نخواهند بود به سیستم وارد شوند.&lt;/li&gt;
  &lt;li&gt;workgroup: تعیین کننده نام شبکه Workgroup است.&lt;/li&gt;
  &lt;li&gt;server string: نام سرویس دهنده را در سیستم‌های سرویس گیرنده مشخص می‌کند.&lt;/li&gt;
  &lt;li&gt;interfaces: آدرس‌هایی را که مجاز به برقراری ارتباط با سرویس دهنده هستند را مشخص می‌کند.&lt;/li&gt;
  &lt;li&gt;printable: امکان ارسال چاپ توسط کاربر به سرویس دهنده را مشخص می‌کند.&lt;/li&gt;
  &lt;li&gt;و …&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;قبل از اشتراک گذاری می‌بایست کاربرانمان را در سرویس دهنده تعریف نماییم. که به‌صورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo smbpasswd -L -a USER NAME  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا &lt;code class=&quot;highlighter-rouge&quot;&gt;USER NAME&lt;/code&gt; نام کاربر مورد نظر شماست.&lt;/p&gt;

&lt;p&gt;برای اشتراک‌گذاری یک دایرکتوری به‌صورت زیر عمل می کنیم.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[My Share]  
 path = /home/reza/my_share  
 browseable = yes  
 read only = yes  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;در مثال فوق یک دایرکتوری با نام My Share و در مسیر &lt;code class=&quot;highlighter-rouge&quot;&gt;home/reza/my_share/&lt;/code&gt; و با دسترسی فقط خواندنی تعریف نمودیم.&lt;/p&gt;

&lt;p&gt;سپس سرویس دهنده را با دستور زیر مجدداً راه اندازی می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl restart samba-ad-dc.service  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;جهت بررسی وضعیت سرویس دهنده و منابع اشتراک گذاشته شده می‌توانیم از دستور زیر استفاده کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;smbclient -L SERVER  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا &lt;code class=&quot;highlighter-rouge&quot;&gt;SERVER&lt;/code&gt; می‌تواند نام و یا آدرس آی‌پی سرویس دهنده باشد.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;نکته)‌ جهت استفاده از ابزار smbclient می‌بایست ابتدا آن را توسط دستور زیر روی سرویس‌گیرندهای لینوکسی نصب نمود.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install smbclient  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;جهت ماونت نمودن یک اشتراک می‌توانیم بصورت زیر عمل کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mount –t cifs //SERVER IP/SHARE /mnt –o &lt;span class=&quot;nv&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;USER NAME,workgroup&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;WORKGROUP NAME  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا &lt;code class=&quot;highlighter-rouge&quot;&gt;SERVER IP/SHARE//&lt;/code&gt; آدرس اشتراک ما و &lt;code class=&quot;highlighter-rouge&quot;&gt;mnt/&lt;/code&gt; آدرس مسیری است که می‌بایست در آنجا ماونت شود و &lt;code class=&quot;highlighter-rouge&quot;&gt;USER NAME&lt;/code&gt; نام کاربری و &lt;code class=&quot;highlighter-rouge&quot;&gt;WORKGROUP NAME&lt;/code&gt; هم نام گروه کاری شما را مشخص می‌کند.&lt;/p&gt;

&lt;p&gt;*‌نکته)‌ جهت ماونت کردن فایل‌سیستم‌های Samba نیاز به ابزار &lt;code class=&quot;highlighter-rouge&quot;&gt;cifs-utils&lt;/code&gt; داریم که می‌بایست روی سرویس‌گیرنده‌های لینوکسی نصب کنیم که برای برای نصب &lt;code class=&quot;highlighter-rouge&quot;&gt;cifs-utils&lt;/code&gt; دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install cifs-utils  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="شبکه" />
      
        <category term="پیکربندی" />
      

      
        <summary>Samba یک ابزار بسیار قدرتمند است که به وسیله آن می‌توان سرویس‌های اشتراک فایل و پرینتر را برای کلاینت‌های مایکروسافتی ارائه نمود. علاوه بر این می‌توان از آن به عنوان یک دامین کنترلر در شبکه‌های مبتنی بر Windows Server Domain استفاده نمود. همچنین از نسخه چهارم این نرم‌افزار به بعد امکان پشتیبانی از Active Directory و دامین‌های Windows NT فراهم شده است.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/samba-server-linux.jpg" />
      
    </entry>
  
  
  
    <entry>
      <title>بازیابی رمز روت لینوکس</title>
      <link href="http://linuxihaa.ir/%D8%A8%D8%A7%D8%B2%DB%8C%D8%A7%D8%A8%DB%8C-%D8%B1%D9%85%D8%B2-%D8%B1%D9%88%D8%AA-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3/" rel="alternate" type="text/html" title="بازیابی رمز روت لینوکس" />
      <published>2016-07-27T00:00:00+00:00</published>
      
        <updated>2016-07-27T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/بازیابی-رمز-روت-لینوکس</id>
      <content type="html" xml:base="http://linuxihaa.ir/%D8%A8%D8%A7%D8%B2%DB%8C%D8%A7%D8%A8%DB%8C-%D8%B1%D9%85%D8%B2-%D8%B1%D9%88%D8%AA-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3/">
        &lt;p&gt;شاید تا به حال برایتان پیش آمده باشد که کلمه عبور کاربر ریشه یا همان root را فراموش کرده باشید. در این آموزش به نحوه چگونگی ریست نمودن رمز عبور خواهیم پرداخت.&lt;/p&gt;

&lt;p&gt;در ابتدا می‌بایست سیستم خود را restart کنید تا وارد صفحه اصلی Boot Loader یا همان Grub بشوید.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;نکته)‌ از آنجایی که اکثر توزیع‌های مدرن از Grub Version 2 استفاده می‌کنند در این آموزش هم فرض بر این است که Boot Loader سیستم شما نسخه دوم Grub است.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;سپس در صفحه انتخاب سیستم عامل، لینوکس مورد نظر را انتخاب کنید و دکمه e را فشار دهید.&lt;/p&gt;

&lt;p&gt;پس از فشردن دکمه e وارد یک محیط ویرایشگر متنی می‌شوید که می‌توانید تنظیمات مربوط به Boot نمودن لینوکس را مشاهده و تغییر دهید.&lt;/p&gt;

&lt;p&gt;به کمک دکمه‌های مکان‌نما به خطی که با عبارت زیر شروع می‌شود بروید.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;linux   /boot/vmlinuz-3.16.0-4-amd64 root=UUID=XXX ro quiet  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و سپس خط زیر را به انتهای این خط اضافه نمایید.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;init=/bin/bash  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس دکمه &lt;code class=&quot;highlighter-rouge&quot;&gt;Ctrl+X&lt;/code&gt; و یا &lt;code class=&quot;highlighter-rouge&quot;&gt;F10&lt;/code&gt; را فشار دهید تا لینوکس با تنظیمات داده شده بوت شود.&lt;/p&gt;

&lt;p&gt;پس از بوت شدن لینوکس بدون درخواست کلمه عبور وارد محیط متنی با دسترسی کاربر ریشه می‌شود.&lt;/p&gt;

&lt;p&gt;تا اینجا فایل سیستم &lt;code class=&quot;highlighter-rouge&quot;&gt;/&lt;/code&gt; یا ریشه به‌صورت فقط خواندنی (Readonly) مانت شده است که می‌بایست توسط دستور زیر به حالت نوشتنی (Writeable) مجدداً مانت شود.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mount -n -o remount, rw /  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس می‌توانید توسط دستور زیر را برای تغییر کلمه عبور کاربر ریشه اقدام کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;passwd  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;پس از وارد نمودن این دستور از شما کلمه عبور جدید درخواست می‌شود که می‌بایست آن را وارد نمایید.&lt;/p&gt;

&lt;p&gt;سپس سیستم خود را restart نموده و مجددا بوت کنید.&lt;/p&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="پیکربندی" />
      
        <category term="حریم‌شخصی" />
      

      
        <summary>شاید تا به حال برایتان پیش آمده باشد که کلمه عبور کاربر ریشه یا همان root را فراموش کرده باشید. در این آموزش به نحوه چگونگی ریست نمودن رمز عبور خواهیم پرداخت.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/password-reset.jpg" />
      
    </entry>
  
  
  
    <entry>
      <title>راه اندازی DHCP Server در لینوکس</title>
      <link href="http://linuxihaa.ir/dhcpd/" rel="alternate" type="text/html" title="راه اندازی DHCP Server در لینوکس" />
      <published>2016-07-26T00:00:00+00:00</published>
      
        <updated>2016-07-26T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/dhcpd</id>
      <content type="html" xml:base="http://linuxihaa.ir/dhcpd/">
        &lt;p&gt;همان‌طور که می‌دانید، دو کامپیوتر در شبکه برای برقرای ارتباط با یکدیگر نیاز به یک IP آدرس یونیک و   مختص به خود را دارند. به‌طور کلی برای یک هاست در شبکه دو راه برای بدست آوردن این آدرس وجود دارد:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;تنظیم به‌صورت دستی: که در این روش می‌بایست روی تمامی سیستم‌ها اطلاعات مربوط به IP به‌صورت دستی وارد شود.&lt;/li&gt;
  &lt;li&gt;دریافت به‌صورت اتوماتیک: با استفاده از پروتکل DHCP که در آن یک سیستم شبکه درخواست دریافت تنظیمات مربوطه به IP را اعلام می‌کند و این درخواست توسط یک سرویس دهنده DHCP در شبکه پاسخ داده می‌شود.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;توسط پروتکل DHCP شما قادر خواهید بود موارد زیر را روی سیستم‌های شبکه خود به‌صورت خودکار تنظیم نمایید.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;آدرس IP و Subnet  &lt;/li&gt;
  &lt;li&gt;آدرس سرویس دهنده دامنه (DNS)  &lt;/li&gt;
  &lt;li&gt;آدرس دروازه شبکه (Gateway)  &lt;/li&gt;
  &lt;li&gt;آدرس Wins Server (برای کلاینت های مایکروسافتی)  &lt;/li&gt;
  &lt;li&gt;و ..&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;در این آموزش به نحوه نصب و راه اندازی سرویس DHCP در لینوکس خواهیم پرداخت.&lt;/p&gt;

&lt;p&gt;برای نصب سرویس دهنده DHCP به‌صورت زیر عمل می کنیم.&lt;/p&gt;

&lt;p&gt;برای سیستم‌های مبتنی دبیان:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get install dhcp3-server  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای سیستم‌های مبتنی بر ردهت:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;yum install dhcp  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;به‌صورت پیش‌فرض پیکربندی سرویس دهنده DHCP فاقد تنظیمات لازم برای ارایه سرویس به شبکه هست که می‌بایست با ویرایش فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;etc/dhcp/dhcpd.conf/&lt;/code&gt; این سرویس را پیکربندی نمود.&lt;/p&gt;

&lt;p&gt;برای تعریف یک Subnet جهت ارایه سرویس در آن می‌بایست مانند مثال زیر تعاریف مربوط را به فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;dhcpd.conf &lt;/code&gt; اضافه نمود.&lt;/p&gt;

&lt;p&gt;برای مثال:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;subnet 10.1.1.0 netmask 255.255.255.0 {    
  range 10.1.1.3 10.1.1.254;    
}  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا ما یک subnet با آدرس شبکه &lt;code class=&quot;highlighter-rouge&quot;&gt;10.10.10.0&lt;/code&gt; و mask با آدرس &lt;code class=&quot;highlighter-rouge&quot;&gt;255.255.255.0&lt;/code&gt; تعریف نموده‌ایم. همچنین توسط عبارت range می‌توانیم رنج آدرس‌های IP قابل تخصیص توسط سرویس دهنده را مشخص نمایید که در مثال بالا از آدرس &lt;code class=&quot;highlighter-rouge&quot;&gt;10.1.1.3&lt;/code&gt; الی &lt;code class=&quot;highlighter-rouge&quot;&gt;10.1.1.254&lt;/code&gt; قابل ارایه در این subnet است.&lt;/p&gt;

&lt;p&gt;تا اینجا سرویس‌دهنده‌ی ما برای ارائه آدرس IP پیکربندی شده است. ولی سیستم‌های شبکه علاوه بر آدرس IP نیاز به تنظیمات دیگری نظیر آدرس سرویس دهنده DNS و همچنین آدرس Gateway شبکه دارند که برای اضافه نمودن آن‌ها بصورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;subnet 10.1.1.0 netmask 255.255.255.0 {    
  range 10.1.1.3 10.1.1.254;    
  option domain-name-servers 10.1.1.1, 8.8.8.8;    
  option routers 10.1.1.1;    
}    
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا عبارت &lt;code class=&quot;highlighter-rouge&quot;&gt;option domain-name-servers&lt;/code&gt;  آدرس سرویس دهنده DNS را مشخص می‌کند و  عبارت &lt;code class=&quot;highlighter-rouge&quot;&gt;option routers&lt;/code&gt; آدرس Gateway شبکه را مشخص می‌کند.&lt;/p&gt;

&lt;p&gt;*‌نکته)‌ آدرس‌های ارائه شده توسط سرویس دهنده به‌صورت leased  می‌باشد و پس از اتمام مدت زمان پیشفرض یا تعریف شده در سرویس دهنده، آن آدرس از سرویس گیرنده گرفته می‌شود و همچنین به‌دلیل ماهیت dynamic پروتکل ممکن است آدرسی که زمانی به هاست شما تخصیص داده شده به هاست دیگری در شبکه تخصیص داده شود.&lt;/p&gt;

&lt;p&gt;برای تغییر مدت زمان پیشفرض اجاره (lease) می‌توانیم بصورت زیر عمل کنیم.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;default-lease-time 600;    
max-lease-time 7200;

subnet 10.1.1.0 netmask 255.255.255.0 {    
  range 10.1.1.3 10.1.1.254;    
}  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا مقدار مقابل عبارت &lt;code class=&quot;highlighter-rouge&quot;&gt;default-lease-time&lt;/code&gt; مدت زمان اجاره پیش‌فرض تنظیمات و &lt;code class=&quot;highlighter-rouge&quot;&gt;max-lease-time&lt;/code&gt; حداکثر زمان اجاره بر حسب ثانیه را مشخص می‌کند.&lt;/p&gt;

&lt;p&gt; شاید شما بخواهید که برای یک هاست خاص در شبکه (برای مثال: پرینتر شبکه ) آدرس IP را رزرو کنید تا همیشه آن آدرس برای هاست مورد نظرتان تخصیص داده شود.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;host printer {    
  hardware ethernet 00:16:d3:b7:8f:86;    
  fixed-address 10.1.1.100;    
}  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا  عبارت host نام هاست مورد نظر را مشخص می کند. عبارت &lt;code class=&quot;highlighter-rouge&quot;&gt;hardware ethernet&lt;/code&gt; آدرس لایه ۲ یا همان mac Address هاست شما را مشخص می‌کند و در نهایت &lt;code class=&quot;highlighter-rouge&quot;&gt;fixed-address&lt;/code&gt; آدرسی است که می‌خواهید برای آن هاست رزرو بشود را مشخص می‌کنیم.&lt;/p&gt;

&lt;p&gt; در پایان سرویس دهنده DHCP را یکبار restart می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/etc/init.d/isc-dhcp-server restart  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="شبکه" />
      
        <category term="سرور" />
      

      
        <summary>همان‌طور که می‌دانید، دو کامپیوتر در شبکه برای برقرای ارتباط با یکدیگر نیاز به یک IP آدرس یونیک و   مختص به خود را دارند. به‌طور کلی برای یک هاست در شبکه دو راه برای بدست آوردن این آدرس وجود دارد:</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/dhcpd-linux.jpg" />
      
    </entry>
  
  
  
    <entry>
      <title>راه اندازی vsftpd در دبیان</title>
      <link href="http://linuxihaa.ir/vsftpd/" rel="alternate" type="text/html" title="راه اندازی vsftpd در دبیان" />
      <published>2016-07-25T00:00:00+00:00</published>
      
        <updated>2016-07-25T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/vsftpd</id>
      <content type="html" xml:base="http://linuxihaa.ir/vsftpd/">
        &lt;p&gt;FTP مخفف File Transfer Protocol یا پروتکل انتقال فایل است که برای انتقال فایل‌ها و اشتراک گذاری آن‌ها در شبکه به‌کار می‌رود. سرویس‌دهنده‌های بسیاری تحت این پروتکل برای ارائه این سرویس نوشته شده است که یکی از مشهورترین و امن‌ترین آن‌ها vsftpd است که در این آموزش به نصب و راه اندازی آن خواهیم پرداخت.&lt;/p&gt;

&lt;p&gt;برای نصب بسته vsftpd دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install vsftpd  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس می‌بایست مانند زیر فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;etc/vsftpd.conf/&lt;/code&gt; را ویرایش نموده و تغییرات زیر را اعمال می‌کنیم.&lt;/p&gt;

&lt;p&gt;به‌صورت پیش‌فرض vsftpd برای سرویس‌دهی روی پروتکل IPv6 پیکربندی شده است. پس در صورتی که در شبکه از IPv6 استفاده نمی‌کنید می‌بایست به‌صورت زیر عمل کنید.&lt;/p&gt;

&lt;p&gt;ابتدا خط زیر را از حالت توضیحات خارج نموده و مقدار آن را به YES تغییر دهید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;YES  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و سپس مقدار خط زیر را به NO تغییر دهید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;listen_ipv6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;NO  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;در حالت پیش‌فرض سرویس‌دهنده به‌صورت Anonymous FTP پیکربندی شده است. در این حالت هر کاربری با نام کاربری Anonymous و هر رمز عبوری می‌تواند از سرویس استفاده نماید و فایل‌های اشتراک گذاشته شده را مشاهده کند. در صورتی که می‌خواهید فقط کاربران مجاز امکان استفاده از سرویس را داشته باشند می بایست حالت Anonymous را غیرفعال کنید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;anonymous_enable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;NO  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;نکته)‌ معمولاً از حالت Anonymous FTP در سرویس های Public که نیاز به تأیید اعتبار ندارند استفاده می‌شود.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;سپس جهت فعال نمودن اجازه دسترسی کاربران مجاز خطوط زیر را از حالت توضییحات خارج نمایید و مقدار انرا از NO به YES تغییر دهید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;local_enable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;YES  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;و برای اجازه نوشتن توسط کاربران خط زیر را از حالت توضییحات خارج نموده و مقدار آن را به‌صورت زیر تغییر می‌دهیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;write_enable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;YES  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس خط زیر را از حالت توضییحات خارج می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;chroot_local_user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;YES  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;*‌ نکته) در نسخه‌های جدیدتر vsfptd امکان اجرای سرویس با حالت &lt;code class=&quot;highlighter-rouge&quot;&gt;chroot_local_user&lt;/code&gt; وجود ندارد که برای حل این مشکل می‌بایست خط زیر را در فایل پیکربندی وارد کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;allow_writeable_chroot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;YES  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;در پایان دستور زیر را برای راه اندازی مجدد سرویس‌دهنده‌ی vsftpd وارد نمایید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemctl restart vsftpd.service  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="پیکربندی" />
      
        <category term="سرور" />
      

      
        <summary>FTP مخفف File Transfer Protocol یا پروتکل انتقال فایل است که برای انتقال فایل‌ها و اشتراک گذاری آن‌ها در شبکه به‌کار می‌رود. سرویس‌دهنده‌های بسیاری تحت این پروتکل برای ارائه این سرویس نوشته شده است که یکی از مشهورترین و امن‌ترین آن‌ها vsftpd است که در این آموزش به نصب و راه اندازی آن خواهیم پرداخت.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/vsftpd-debian.jpg" />
      
    </entry>
  
  
  
    <entry>
      <title>راه اندازی سرویس NFS در دبیان</title>
      <link href="http://linuxihaa.ir/nfs-%D8%AF%D8%B1-%D8%AF%D8%A8%DB%8C%D8%A7%D9%86/" rel="alternate" type="text/html" title="راه اندازی سرویس NFS در دبیان" />
      <published>2016-07-24T00:00:00+00:00</published>
      
        <updated>2016-07-24T00:00:00+00:00</updated>
      

      

      <id>http://linuxihaa.ir/nfs-در-دبیان</id>
      <content type="html" xml:base="http://linuxihaa.ir/nfs-%D8%AF%D8%B1-%D8%AF%D8%A8%DB%8C%D8%A7%D9%86/">
        &lt;p&gt;فایل سیستم NFS یک فایل سیستم توزیع شده تحت شبکه است که در سال 1984 توسط شرکت Sun Microsystems توسعه یافت و این امکان را به کاربران شبکه می‌دهد که بتوانند به فایل‌های روی شبکه همانند فایل‌های Local خودشان دسترسی داشته باشند. در این آموزش به نحوه راه اندازی سرویس NFS و همچنین چگونگی Mount نمودن آن در سیستم‌های Client خواهیم پرداخت.&lt;/p&gt;

&lt;p&gt;برای نصب سرویس NFS روی سرویس‌دهنده دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install nfs-kernel-server  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;etc/exports/&lt;/code&gt; را ویرایش نموده و به‌صورت زیر دایرکتوری‌ای را که می‌خواهیم به اشتراک بگذاریم اعلان می‌کنیم.&lt;/p&gt;

&lt;p&gt;برای مثال:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/home 192.168.1.0&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rw, sync, no_root_squash&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;home/&lt;/code&gt;: آدرس دایرکتوری است که می‌خواهیم به اشتراک بگذاریم.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;192.168.1.0&lt;/code&gt;: آدرس آی‌پی، رنج شبکه و یا آدرس FQDN هاستی است که می‌خواهد به این دایرکتوری بصورت Remote دسترسی داشته باشد (بتواند تحت شبکه mount کند).&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;rw&lt;/code&gt;: مجوز دسترسی را مشخص می‌کند که می‌تواند rw برای نوشتن و خواندن و ro برای فقط خواندن باشد.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;no_root_squash&lt;/code&gt;: اجازه دسترسی کاربر root را به این دایرکتوری امکان‌پذیر می‌کند.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sync&lt;/code&gt;: حالت نوشته شدن اطلاعات به اشتراک گذاشته شده به دیسک توسط سرویس دهنده را مشخص می کند.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;پس از ویرایش فایل فوق می بایست دستور زیر را وارد نماییم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;exportfs -a  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;سپس روی سیستم‌های سرویس گیرنده می‌بایست بسته &lt;code class=&quot;highlighter-rouge&quot;&gt;nfs-common&lt;/code&gt; را نصب نماییم. برای این کار دستور زیر را وارد می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install nfs-common  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;برای mount نمودن فایل سیستم به اشتراک گذاشته شده به‌صورت زیر عمل می‌کنیم.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mount SERVER_IP:/SHARED_DIR /LOCAL_DIR  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;که در اینجا منظور از &lt;code class=&quot;highlighter-rouge&quot;&gt;SERVER_IP&lt;/code&gt; آدرس آی‌پی سرویس‌دهنده NFS و &lt;code class=&quot;highlighter-rouge&quot;&gt;SHARED_DIR&lt;/code&gt; آدرس دایرکتوری به اشتراک گذاشته شده و &lt;code class=&quot;highlighter-rouge&quot;&gt;LOCAL_DIR&lt;/code&gt; آدرس مکانی است که می‌خواهیم این‌ فایل سیستم را در آنجا mount کنیم.&lt;/p&gt;

&lt;p&gt; همچنین برای راحتی بیشتر و mount شدن خودکار فایل سیستم به اشتراک گذاشته شده می‌توانید فایل &lt;code class=&quot;highlighter-rouge&quot;&gt;etc/fstab/&lt;/code&gt; را ویرایش نموده و خط زیر را به آن اضافه نمایید.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SERVER_IP:/SHARED_FOLDER  /LOCAL_DIR  nfs  defaults  0  0  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;از این پس هنگام بوت شدن سیستم، این فایل سیستم نیز به‌طور خودکار mount می‌شود.&lt;/p&gt;
          
          
          
          &lt;p&gt;
            
            
              
              &lt;a href=&quot;mailto:r.masoumvand@yahoo.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/adv.png&quot; alt=&quot;advertise&quot; /&gt;&lt;/a&gt;
              
            
            
          &lt;/p&gt;
      </content>

      
        <author>
            <name>رضا معصوم‌وند</name>
          
            <email>r.masoumvand@yahoo.com</email>
          
          
            <uri>mailto:r.masoumvand@yahoo.com</uri>
          
        </author>
      

      
        <category term="سرور" />
      
        <category term="پیکربندی" />
      

      
        <summary>فایل سیستم NFS یک فایل سیستم توزیع شده تحت شبکه است که در سال 1984 توسط شرکت Sun Microsystems توسعه یافت و این امکان را به کاربران شبکه می‌دهد که بتوانند به فایل‌های روی شبکه همانند فایل‌های Local خودشان دسترسی داشته باشند. در این آموزش به نحوه راه اندازی سرویس NFS و همچنین چگونگی Mount نمودن آن در سیستم‌های Client خواهیم پرداخت.</summary>
      

      
      
        
        <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://linuxihaa.ir/assets/images/debian-nfs.jpg" />
      
    </entry>
  
  
</feed>