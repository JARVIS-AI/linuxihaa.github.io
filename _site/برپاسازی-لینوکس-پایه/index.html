<!DOCTYPE HTML>
<html lang="fa">
	<head>
		<title>لینوکسی‌ها - برپاسازی لینوکس پایه</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<link rel="alternate" href="http://linuxihaa.ir" hreflang="fa-IR" />
		<link type="application/atom+xml" rel="alternate" href="http://linuxihaa.ir/feed.xml" title="لینوکسی‌ها">
		<link type="application/xml" rel="sitemap" title="لینوکسی‌ها" href="http://linuxihaa.ir/sitemap.xml" />
		<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
			<!--[if lte IE 8]><script src="/assets/css/ie/html5shiv.js"></script><![endif]-->
		<script src="/assets/js/jquery.min.js"></script>
		<script src="/assets/js/jquery.dropotron.min.js"></script>
		<script src="/assets/js/skel.min.js"></script>
		<script src="/assets/js/skel-layers.min.js"></script>
		<script src="/assets/js/jquery.scrollgress.min.js"></script>
		<script src="/assets/js/init.js?v=2016-07-09:3"></script>
		<noscript>
			<link rel="stylesheet" href="/assets/css/skel.css" />
			<link rel="stylesheet" href="/assets/css/style.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="/assets/css/ie/v8.css" /><![endif]-->
		<meta name="robots" content="noodp"/>
		<meta name="description" content="آموزش برپاسازی لینوکس پایه و ساخت توزیع لینوکس شخصی"/>
		<meta property="og:site_name" content="لینوکسی‌ها" />
		<link rel="canonical" href="http://linuxihaa.ir/%D8%A8%D8%B1%D9%BE%D8%A7%D8%B3%D8%A7%D8%B2%DB%8C-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3-%D9%BE%D8%A7%DB%8C%D9%87/" />
		<meta property="og:locale" content="fa_IR" />
		<meta property="og:type" content="article" />
		<meta property="og:title" content="لینوکسی‌ها - برپاسازی لینوکس پایه" />
		<meta property="og:description" content="آموزش برپاسازی لینوکس پایه و ساخت توزیع لینوکس شخصی" />
		<meta property="og:url" content="http://linuxihaa.ir/%D8%A8%D8%B1%D9%BE%D8%A7%D8%B3%D8%A7%D8%B2%DB%8C-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3-%D9%BE%D8%A7%DB%8C%D9%87/" />
		<meta property="article:tag" content="برپاسازی لینوکس پایه" />
		<meta property="article:section" content="آموزشی" />
		<meta property="article:published_time" content="2014-05-12 00:00:00 +0000" />
		
		
		<meta property="og:image" content="http://linuxihaa.ir/assets/images/gnu-linux.jpg" />
		<meta property="og:image:width" content="600" />
		<meta property="og:image:height" content="300" />
	</head>
	
		<body>
			<section id="banner"></section>
	
	<!-- Header -->
	<header id="header" class="alt">
		<div id="logo" ><a href="/"><span>لینوکسی‌ها</span><img src="/logo.png" /></a></div>
		<nav id="nav">
			<ul>
				<li><a href="/">خانه</a></li>
				<li>
					<a href="" class="icon fa-angle-down">دسته‌بندی</a>
					<ul>
						
						<li><a href="/category/خبری/">خبری</a></li>
						
						<li><a href="/category/آموزشی/">آموزشی</a></li>
						
					</ul>
				</li>
				<li><a href="/about/">درباره</a></li>
				<li><a href="/cooperation/">همکاری</a></li>
				<li><a href="/contact/">تماس</a></li>
			</ul>
		</nav>
	</header>

	<!-- Main -->
	<section id="main" class="container">

	<article class="box special">
		<header>
			<h1>برپاسازی لینوکس پایه</h1>
		</header>
		<div class="content"><p>افرادی هستند که نیاز به برپاسازی یک لینوکس پایه دارند. از جمله نیاز افراد برای این کار می‌توان به استفاده از ابزارهای پایه لینوکس در سیستمی خلوت و کم حجم و یا حتی تولید توزیع جدید اشاره کرد.</p>

<p>افرادی که می‌خواهند توزیع جدیدی از لینوکس ساخته و منتشر کنند اول باید بدانند کرنل لینوکس به تنهایی یک سیستم‌عامل نیست بلکه یک هسته است که با ابزارهایی که روی همان هسته اجرا می‌شوند، به‌عنوان یک سیستم‌عامل کامل قابل استفاده می‌شود. خواه استفاده از ابزارهای گنو و تولید سیستم‌عامل‌های مرسوم گنو/لینوکس و یا روش‌های دیگری مانند اندروید که هسته لینوکس را با ابزارهای ویژه خود به یک سیستم‌عامل کامل تبدیل کرده است.</p>

<p>اگر شما می‌خواهید یک سیستم‌عامل با هسته لینوکس ایجاد کنید برای روش آخر من پیشنهادی ندارم و می‌گویم که کارتان بسیار سخت است چون باید خیلی از ابزارهای اولیه را از نو برنامه‌نویسی کنید اما اگر می‌خواهید یک توزیع جدید گنو/لینوکس ایجاد کنید دو روش پیش رو دارید. یا از توزیع‌های جدید انشعاب بگیرید (که برای هر توزیع ابزارها و روش‌های مشخصی وجود دارد و راحت‌ترین آن‌ها هم انشعاب از ابونتو دسکتاب است) و یا از پایه توزیع گنو/لینوکس خودتان را بسازید!</p>

<p>بهترین منبع برای تولید سامانه گنو/لینوکس از پایه، کتاب <code class="highlighter-rouge">LFS (Linux From Scratch)</code> است که از آدرس <code class="highlighter-rouge">linuxfromscratch.org</code> قابل دسترس است.</p>

<p>اما روش بالا مشکلات زیادی دارد. از جمله وقت زیادی که از شما می‌گیرد و دوم اینکه پشتیبانی و بروزرسانی ابزارهای آن طاقت‌فرسا است و بهتر بگویم کار یک گروه خبره است که می‌خواهند واقعا نیازهای جدیدی را در حیطه توزیع‌های پایه پوشش بدهند.</p>

<p>اما روشی که من پیشنهاد می‌کنم استفاده از هسته ابونتو (Ubuntu Core) است! هسته ابونتو در عین اینکه سامانه گنو/لینوکس پایه در اختیار شما می‌گذارد از مزیت‌هایی مانند داشتن مدیر بسته دی‌پی‌کی‌جی و بروزرسانی‌های دائمی ابونتو بهره‌مند است؛ بروزرسانی‌هایی که کارایی و امنیت توزیع شما را تضمین می‌کنند. در عین حال شما می‌توانید خط مشی توزیع خود را کاملا از ابونتو جدا کنید. در ادامه روش برپاسازی این سامانه را مطالعه خواهید کرد.</p>

<h3 id="section">برپاسازی هسته ابونتو</h3>

<p>ابتدا از آدرس <code class="highlighter-rouge">cdimage.ubuntu.com/ubuntu-core/releases/14.04/release</code> هسته مناسب را دریافت کنید (هسته ابونتو برای ماشین‌های x86 در دو نوع ۳۲ بیت و 64 بیت و arm موجود است).</p>

<p>سپس ترمینالی باز کرده و با کاربر روت وارد شوید.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>sudo su
</code></pre>
</div>

<p>اکنون پارتیشن روت سامانه جدید لینوکس را بسازید. برای این مرحله می‌توانید از هر ابزار گرافیکی (gprated) یا خط فرمانی (cfdisk) پارتیشن‌بندی استفاده کنید. پارتیشن روت را به اندازه کافی (بسته به نیازتان در آینده) بگیرید و اگر روی سیستم شما سیستم‌عامل دیگری نیست برچسب بوت آن را فعال کنید.</p>

<p>با دستور زیر پارتیشن روت خود را فرمت کنید. (sda1 یک مثال از شناسه است و بسته به مرحله قبل متفاوت است).</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>mkfs.ext4 /dev/sda1
</code></pre>
</div>

<p>پارتیشن روت را در سامانه فعلی مانت کنید تا بتوان از آن استفاده کرد.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>mkdir /mnt/tmp
mount /dev/sda1 /mnt/tmp
</code></pre>
</div>

<p>آرشیو هسته ابونتو را در پارتیشن روت استخراج کنید (مسیر آرشیو را به‌جای <archive.tar.gz> وارد کنید).</archive.tar.gz></p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>tar -zxvf &lt;archive.tar.gz&gt; -C /mnt/tmp
</code></pre>
</div>

<p>وارد مسیر پارتیشن روت شوید.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="nb">cd</span> /mnt/tmp
</code></pre>
</div>

<p>گراب را روی دیسک نصب کنید.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>grub-install --root-directory<span class="o">=</span>/mnt/tmp /dev/sda
</code></pre>
</div>

<p>تنظیمات شبکه سامانه فعلی را در سامانه جدید کپی کنید تا بعد از ورود به قلمرو آن (chroot) بتوانید از شبکه سامانه فعلی استفاده کنید.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>cp /etc/resolv.conf /mnt/tmp/etc/resolv.conf
</code></pre>
</div>

<p>وارد قلمرو سامانه گنو/لینوکس جدید شوید.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="k">for </span>f <span class="k">in</span> /sys /proc /dev ; <span class="k">do </span>mount --rbind <span class="nv">$f</span> /mnt/tmp/<span class="nv">$f</span> ; <span class="k">done</span> ; chroot /mnt/tmp
</code></pre>
</div>

<p>هسته لینوکس را در سامانه جدید نصب کنید (دستور زیر برای زمانی است که سامانه میزبان نیز ابونتو یا دبیان باشد. برای دیگر میزبان‌ها باید هسته مناسب نصب شود و یا اینکه هسته را نیز دریافت کرده و در سامانه جدید کمپایل کنید).</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>apt-get update &amp; apt-get install linux-<span class="o">{</span>headers,image<span class="o">}</span>-generic
</code></pre>
</div>

<p>گراب را آپدیت کنید تا سیستم‌عامل جدید و قبلی‌ها را به لیست منوی خود اضافه کند.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>update-grub
</code></pre>
</div>

<p>پسورد روت سامانه جدید را ست کنید.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>passwd
</code></pre>
</div>

<p>منابع را آزاد کنید و خارج شوید.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="nb">exit
cd</span> ..
umount -v /mnt/tmp/proc
umount -v /mnt/tmp/sys
umount -v /mnt/tmp/dev
umount -v /mnt/tmp/
<span class="nb">exit</span>
</code></pre>
</div>

<p>تمام شد! اکنون کافی است تا سیستم را ریبوت کنید و از سامانه جدید گنو/لینوکس خود که با هسته ابونتو ساخته‌اید استفاده کنید.</p>

<p>در صورتی که رم کافی ندارید و نیاز به پارتیشن سواپ دارید می‌توانید بعد از ساخت پارتیشن سواپ به اندازه مناسب از دستورات زیر برای فعال‌سازی آن استفاده کنید.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>mkswap /dev/sdaX
swapon /dev/sdaX
</code></pre>
</div>

<p>برای اتصال به شبکه اینترنت هم اگر به کابل متصل هستید کافیست دستور زیر را بزنید (eth0 شناسه اولین کارت شبکه شما است و اگر چند کارت شبکه دارید شناسه هر کدام که نیاز است را وارد کنید).</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>dhclient eth0
</code></pre>
</div>

<p>برای اتصال به شبکه بی‌سیم هم می‌توانید از دستورات زیر استفاده کنید (در دستور زیر نام و پسورد مناسب را جایگزین کنید).</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>iwconfig wlan0 essid name key password
dhclient wlan0
</code></pre>
</div>

<p>شما می‌توانید سامانه جدید را بسته به نیازتان سفارش‌سازی کنید، بسته‌های مورد نیاز را تغییر دهید و یا حتی نام توزیع را تغییر و به عنوان یک توزیع جدید منتشر کنید.</p>
</div>
		<footer class="meta">
<!-- AddToAny BEGIN -->
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
<a class="a2a_button_facebook"></a>
<a class="a2a_button_twitter"></a>
<a class="a2a_button_google_plus"></a>
</div>
<script async src="https://static.addtoany.com/menu/page.js"></script>
<!-- AddToAny END -->
			
			
			<p><a class="button special" href="http://zarinp.al/19683" target="_blank">حمایت مالی از نویسنده‌ی این مطلب فقط با ۱۰۰۰ تومان</a></p>
			<span>نوشته شده توسط </span><address class="author"><a href="http://misam.ir" class="author" rel="author" target="_blank" title="من میثم ساکی هستم؛ برای اطلاعات بیشتر به سایت من سر بزنید">میثم ساکی</a></address><span>، </span>
			
			
			
			<time class="date" pubdate datetime="2014-05-12T00:00:00+00:00">دوشنبه 22 اردیبهشت 1393</time>
			</span>
			<ul class="tags">
				<span>دسته </span><a href="/category/آموزشی" class="category">آموزشی</a><span>، </span>
				<span>برچسب</span>
				
				<li><a href="/tag/پیکربندی" class="tag">پیکربندی</a><span>،</span></li>
				
				<li><a href="/tag/توسعه" class="tag">توسعه</a><span>،</span></li>
				
			</ul>
			<div class="adv">
				
					
					
						
						<a href="https://cafebazaar.ir/app/ir.misam.leitner/" target="_blank"><img src="http://misam.ir/leitner-adv.png?v=2" alt="advertise" /></a>
						
					
					
				
			</div>
		</footer>
	</article>
	<div id="disqus_thread"></div>
<script>
    (function() {
        var d = document, s = d.createElement('script');
        
        s.src = 'https://linuxihaa.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>لطفاً برای مشاهده نظرات جاوااسکریپت را روشن کنید <a href="https://disqus.com/?ref_noscript" rel="nofollow">Powered by Disqus.</a></noscript>
		</section>
		<!-- Footer -->
			<footer id="footer">
				<span>برچسب‌ها</span>
				<ul class="tags container">
					
					<li>
						<a href="/tag/پراکسی/" title="1 مطلب" style="font-size: 1.0133333333333334em;">پراکسی</a>
					</li>
					
					<li>
						<a href="/tag/اوبونتو/" title="30 مطلب" style="font-size: 1.4733333333333334em;">اوبونتو</a>
					</li>
					
					<li>
						<a href="/tag/dns/" title="1 مطلب" style="font-size: 1.0133333333333334em;">dns</a>
					</li>
					
					<li>
						<a href="/tag/شخصی‌سازی/" title="6 مطلب" style="font-size: 1.0933333333333333em;">شخصی‌سازی</a>
					</li>
					
					<li>
						<a href="/tag/سرور/" title="9 مطلب" style="font-size: 1.14em;">سرور</a>
					</li>
					
					<li>
						<a href="/tag/دبیان/" title="10 مطلب" style="font-size: 1.1533333333333333em;">دبیان</a>
					</li>
					
					<li>
						<a href="/tag/اوبونتو استدیو/" title="1 مطلب" style="font-size: 1.0133333333333334em;">اوبونتو استدیو</a>
					</li>
					
					<li>
						<a href="/tag/کوبونتو/" title="1 مطلب" style="font-size: 1.0133333333333334em;">کوبونتو</a>
					</li>
					
					<li>
						<a href="/tag/زوبونتو/" title="1 مطلب" style="font-size: 1.0133333333333334em;">زوبونتو</a>
					</li>
					
					<li>
						<a href="/tag/اوبونتو کایلین/" title="1 مطلب" style="font-size: 1.0133333333333334em;">اوبونتو کایلین</a>
					</li>
					
					<li>
						<a href="/tag/لوبونتو/" title="2 مطلب" style="font-size: 1.0266666666666666em;">لوبونتو</a>
					</li>
					
					<li>
						<a href="/tag/اوبونتو گنوم/" title="1 مطلب" style="font-size: 1.0133333333333334em;">اوبونتو گنوم</a>
					</li>
					
					<li>
						<a href="/tag/فدورا/" title="10 مطلب" style="font-size: 1.1533333333333333em;">فدورا</a>
					</li>
					
					<li>
						<a href="/tag/ترمینال/" title="5 مطلب" style="font-size: 1.0733333333333333em;">ترمینال</a>
					</li>
					
					<li>
						<a href="/tag/میزکار/" title="6 مطلب" style="font-size: 1.0933333333333333em;">میزکار</a>
					</li>
					
					<li>
						<a href="/tag/گنوم/" title="3 مطلب" style="font-size: 1.0466666666666666em;">گنوم</a>
					</li>
					
					<li>
						<a href="/tag/یونیتی/" title="2 مطلب" style="font-size: 1.0266666666666666em;">یونیتی</a>
					</li>
					
					<li>
						<a href="/tag/سینامون/" title="2 مطلب" style="font-size: 1.0266666666666666em;">سینامون</a>
					</li>
					
					<li>
						<a href="/tag/kde/" title="2 مطلب" style="font-size: 1.0266666666666666em;">kde</a>
					</li>
					
					<li>
						<a href="/tag/xfce/" title="1 مطلب" style="font-size: 1.0133333333333334em;">xfce</a>
					</li>
					
					<li>
						<a href="/tag/lxde/" title="1 مطلب" style="font-size: 1.0133333333333334em;">lxde</a>
					</li>
					
					<li>
						<a href="/tag/ردهت/" title="7 مطلب" style="font-size: 1.1066666666666667em;">ردهت</a>
					</li>
					
					<li>
						<a href="/tag/centos/" title="6 مطلب" style="font-size: 1.0933333333333333em;">centos</a>
					</li>
					
					<li>
						<a href="/tag/نرم‌افزار/" title="21 مطلب" style="font-size: 1.3333333333333333em;">نرم‌افزار</a>
					</li>
					
					<li>
						<a href="/tag/آرچ‌لینوکس/" title="3 مطلب" style="font-size: 1.0466666666666666em;">آرچ‌لینوکس</a>
					</li>
					
					<li>
						<a href="/tag/اوپن‌سوزه/" title="9 مطلب" style="font-size: 1.14em;">اوپن‌سوزه</a>
					</li>
					
					<li>
						<a href="/tag/پیکربندی/" title="16 مطلب" style="font-size: 1.2533333333333334em;">پیکربندی</a>
					</li>
					
					<li>
						<a href="/tag/مرورگر/" title="2 مطلب" style="font-size: 1.0266666666666666em;">مرورگر</a>
					</li>
					
					<li>
						<a href="/tag/لینوکس مینت/" title="7 مطلب" style="font-size: 1.1066666666666667em;">لینوکس مینت</a>
					</li>
					
					<li>
						<a href="/tag/توسعه/" title="3 مطلب" style="font-size: 1.0466666666666666em;">توسعه</a>
					</li>
					
					<li>
						<a href="/tag/شبکه/" title="5 مطلب" style="font-size: 1.0733333333333333em;">شبکه</a>
					</li>
					
					<li>
						<a href="/tag/مگیا/" title="1 مطلب" style="font-size: 1.0133333333333334em;">مگیا</a>
					</li>
					
					<li>
						<a href="/tag/حریم‌شخصی/" title="5 مطلب" style="font-size: 1.0733333333333333em;">حریم‌شخصی</a>
					</li>
					
					<li>
						<a href="/tag/کتاب/" title="1 مطلب" style="font-size: 1.0133333333333334em;">کتاب</a>
					</li>
					
					<li>
						<a href="/tag/بوت‌لودر/" title="1 مطلب" style="font-size: 1.0133333333333334em;">بوت‌لودر</a>
					</li>
					
					<li>
						<a href="/tag/توزیع/" title="1 مطلب" style="font-size: 1.0133333333333334em;">توزیع</a>
					</li>
					
					<li>
						<a href="/tag/sudo/" title="2 مطلب" style="font-size: 1.0266666666666666em;">sudo</a>
					</li>
					
					<li>
						<a href="/tag/کالی لینوکس/" title="1 مطلب" style="font-size: 1.0133333333333334em;">کالی لینوکس</a>
					</li>
					
					<li>
						<a href="/tag/nixos/" title="1 مطلب" style="font-size: 1.0133333333333334em;">nixos</a>
					</li>
					
					<li>
						<a href="/tag/مدیربسته/" title="1 مطلب" style="font-size: 1.0133333333333334em;">مدیربسته</a>
					</li>
					
					<li>
						<a href="/tag/رسپبری‌پای/" title="1 مطلب" style="font-size: 1.0133333333333334em;">رسپبری‌پای</a>
					</li>
					
					<li>
						<a href="/tag/اندروید/" title="1 مطلب" style="font-size: 1.0133333333333334em;">اندروید</a>
					</li>
					
				</ul>
				<ul class="icons">
					<li><a href="http://facebook.com/linuxihaa" class="icon genericon genericon-facebook" target="_blank">Facebook</a></li>
					<li><a href="https://twitter.com/linuxihaa" class="icon genericon genericon-twitter" target="_blank">Twitter</a></li>
					<li><a href="https://telegram.me/linuxiha" class="icon genericon genericon-telegram" target="_blank">Telegram</a></li>
					<li><a href="https://www.instagram.com/linuxiha" class="icon genericon genericon-instagram" target="_blank">Instagram</a></li>
					<li><a href="https://plus.google.com/109502803142394425024/posts" class="icon genericon genericon-googleplus" target="_blank">Google+</a></li>
					<li><a href="http://www.youtube.com/channel/UCM8_p07cthYziOA96HDdzOg" class="icon genericon genericon-youtube" target="_blank">YouTube</a></li>
					<li><a href="https://github.com/linuxihaa" class="icon genericon genericon-github" target="_blank">Github</a></li>
					<li><a href="/feed.xml" class="icon genericon genericon-feed" target="_blank">RSS Feed</a></li>
				</ul>
				<ul class="copyright">
					<li>&copy; حق نشر ۱۳۹۵-۱۳۹۲ <a href="">لینوکسی‌ها</a>، <a href="/version-history/">نسخه‌ی ۲.۰</a>، تحت مجوز <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">کرتیو کامنز ۳.۰</a></li>
					<li> پوسته برگرفته از <a href="https://github.com/CloudCannon/Alpha-Jekyll-Theme">Alpha Jekyll Theme</a></li>
				</ul>
			</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44951909-1', 'auto');
  ga('send', 'pageview');

</script>
	</body>
</html>

